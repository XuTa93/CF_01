<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="clr-namespace:CF_01.ViewModels"
             mc:Ignorable="d" d:DesignWidth="140" d:DesignHeight="350"
             x:Class="CF_01.Views.Thermometer"
             x:DataType="vm:ThermometerViewModel">
  
  <!-- THERMOMETER - Ống nhiệt kế độc lập -->
  <Border Width="140" Height="350"
          Background="#222222"
          BorderBrush="#555555"
          BorderThickness="3"
          CornerRadius="70,70,15,15"
          Padding="15">
    
    <Grid>
      <Grid.RowDefinitions>
        <RowDefinition Height="*"/>
        <RowDefinition Height="Auto"/>
      </Grid.RowDefinitions>

      <!-- Ống nhiệt kế chính -->
      <Border Grid.Row="0"
              Width="50"
              Height="260"
              Background="#333333"
              BorderBrush="#666666"
              BorderThickness="3"
              CornerRadius="25"
              HorizontalAlignment="Center"
              VerticalAlignment="Top">
        
        <Canvas>
          <!-- Background vạch chia độ -->
          <StackPanel Canvas.Left="55" Canvas.Top="5" Spacing="28">
            <TextBlock Text="45°" Foreground="#FF4444" FontSize="12" FontWeight="Bold"/>
            <TextBlock Text="40°" Foreground="#FF6644" FontSize="11"/>
            <TextBlock Text="35°" Foreground="#FF8844" FontSize="11"/>
            <TextBlock Text="30°" Foreground="#FFAA44" FontSize="11"/>
            <TextBlock Text="25°" Foreground="#FFCC44" FontSize="11"/>
            <TextBlock Text="20°" Foreground="#FFEE44" FontSize="11"/>
            <TextBlock Text="15°" Foreground="#88CCFF" FontSize="11"/>
            <TextBlock Text="10°" Foreground="#4488FF" FontSize="12" FontWeight="Bold"/>
          </StackPanel>

          <!-- Cột thủy ngân/nhiệt độ -->
          <Border Canvas.Left="10" Canvas.Bottom="5"
                  Width="30"
                  Background="{Binding MercuryBrush}"
                  CornerRadius="15"
                  Height="{Binding MercuryHeight}">
            <Border.Effect>
              <DropShadowEffect BlurRadius="20" Opacity="0.9" OffsetX="0" OffsetY="0"/>
            </Border.Effect>
          </Border>
        </Canvas>
      </Border>

      <!-- Bầu nhiệt kế (bulb) -->
      <Border Grid.Row="1"
              Width="70" Height="70"
              Background="{Binding MercuryBrush}"
              CornerRadius="35"
              Margin="0,10,0,0"
              HorizontalAlignment="Center">
        <Border.Effect>
          <DropShadowEffect BlurRadius="25" Opacity="0.95" OffsetX="0" OffsetY="0"/>
        </Border.Effect>
        
        <!-- Hiển thị nhiệt độ số trong bầu -->
        <TextBlock Text="{Binding Temperature, StringFormat='{}{0:F1}°C'}"
                   FontSize="14"
                   FontWeight="Bold"
                   Foreground="White"
                   HorizontalAlignment="Center"
                   VerticalAlignment="Center">
          <TextBlock.Effect>
            <DropShadowEffect Color="Black" BlurRadius="5" Opacity="0.9"/>
          </TextBlock.Effect>
        </TextBlock>
      </Border>
    </Grid>
  </Border>
</UserControl>